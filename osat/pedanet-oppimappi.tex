\chapter{Peda.net Oppimapin käytettävyyden arviointia}

Oppimapin käyttöliittymän pääosat muodostuvat navigointipalkista,
toimintovalikosta ja sisältöalueesta. Kuvassa
\ref{fig:oppimappi-kotisivu} on esitetty Oppimapin kotisivu"-näkymä
ylläpitäjän oikeuksilla. Tämä on Oppimapin aloitussivu
sisäänkirjautumisen jälkeen. Yläreunassa näkyy Oppimapin otsikko (tässä
esimerkissä ``Hankasalmen lukio'') ja linkit eri alueille Oppimapin
sisällä: kotisivu, omat tiedostot, työtilat ja ylläpito. Vasemman
reunan palkissa on aina sen hetkistä sisältöä koskevat toiminnot, tässä
tapauksessa  vain ''palauta poistetut kohteet'', joka palauttaisi
sisältölistaukseen ne dokumentit, työtilat ja kansiot, jotka käyttäjä
on aikaisemmin itse poistanut. Itse sisältöalue muodostuu tällä sivulla
erilaisista objekteista, joilla jokaisella on ikoni, nimi, kuvaus ja
toimintoja. Nimestä näpäyttämällä pääsee käyttämään objektia ja
objektin perässä olevaa toimintoa käyttämällä sen ominaisuuksiin voi
vaikuttaa.

\begin{kuva}
\includegraphics[width=10.0cm]{kuvat/oppimappi-kotisivu}
\caption{Oppimappi: työpöytä-näkymä}
\label{fig:oppimappi-kotisivu}
\end{kuva}

Ensimmäiseksi havaitaan, että tässäkin ympäristössä suuri osa ikkunan
pinta"-alasta menee muuhun kuin itse sisältöön. Navigointi ja
ympäristön otsikko valtaavat suuren osan käytettävissä olevasta alasta.
Tämä on seurausta valitusta tyylitiedostosta. Kuvassa
\ref{fig:oppimappi-kotisivu-nostyle} on esitetty sama näkymä kun
CSS"-tyylisivu on selaimen asetuksista valittu pois päältä. Tämä näkymä
vastaa erityisryhmien käyttöliittymää; esimerkiksi näkövammaiselle
käyttäjälle tieto esitettäisiin tämän näkymän mukaisessa
järjestyksessä. Tässä erityisesti nykyistä näkyvää koskevat toiminnot
esitetään sisällön \emph{jälkeen} -- tämä on tärkeää, koska yleensä
käyttäjä on kiinnostunut itse sisällöstä, ei mahdollisista
toiminnoista. Samoin kaikki sovelluksen toiminnallisuus on
käytettävissä ilman kuvien lataamista tai JavaScript"-tukea.

\begin{kuva}
\includegraphics[width=10cm]{kuvat/oppimappi-kotisivu-nostyle}
\caption{Oppimappi: työpöytä"-näkymä ilman CSS"-tiedostoa}
\label{fig:oppimappi-kotisivu-nostyle}
\end{kuva}

Tästä näkymästä myös nähdään, että kaikki sivun elementit ovat
normaaleja linkkejä. Tämän ansiosta käyttäjä voi käsitellä sivun
elementtejä aivan vastaavasti kuin tavallisenkin www"-sivun osia. Minkä
tahansa ``painikkeen'' voi lisätä kirjanmerkkeihin tai toiminnon voi
avata toiseen ikkunaan selaimen omilla työkaluilla. Esimerkiksi Mozilla
Firefox "=selain avaa linkin uudessa ikkunassa, jos linkkiä on painettu
keskimmäisellä hiiren painikkeella. Jos esimerkkikäyttäjämme avaa
``Omat tiedostot > ylläpitäjä'' "=linkin uuteen ikkunaan, saadaan kuvan
\ref{fig:oppimappi-new-window} mukainen tilanne. Olennaista tässä
tilanteessa on, että kumpikin sivu toimii täysin itsenäisesti: toisessa
ikkunassa voisi olla vaikkapa eri käyttäjän näkymä, kummankin ikkunan
historia on erillinen eli takaisin"-painike toimii ja kummankin sivun
voi liittää omiin kirjanmerkkeihin. Turvallisuussyistä kirjanmerkki
tosin vanhentuu, jolloin kirjautuminen vaaditaan uudelleen sivulle
palatessa. Mutta toisin kuin monessa muussa ympäristössä, Oppimapissa
kirjautumisen jälkeen palataan kirjanmerkin osoittamaan toimintoon, ei
ympäristön aloitussivulle.

\begin{kuva}
\includegraphics[width=10cm]{kuvat/oppimappi-new-window}
\caption{Oppimappi: linkin avaaminen uudessa ikkunassa}
\label{fig:oppimappi-new-window}
\end{kuva}

Oppimappia voidaan arvioida myös luvussa
\ref{label:kaytettavyydessa_huomioitavaa} esitettyjen kohtien
perusteella:

\begin{dl}

\item[Ulkonäön taitto:] Oppimapissa oletuksena käytetty tyylitiedosto
mukailee Peda.net"-hankkeen staattisia www"-sivuja. Kirjasimeksi on
valittu groteski kirjasinleikkaus, sillä se on yleensä näytöllä
paremmin luettava kuin antiikva. Tekstin kokoa ei ole määritelty
absoluuttisesti vaan leipäteksti on käyttäjän selaimen oletuskoko.
Oikein konfiguroitu www"-selain käyttää siis aina optimaalista tekstin
kokoa. Käyttäjä voi halutessaan käyttää omaa CSS"-tyylitiedostoa.

\item[Yhdenmukaisuus] ja johdonmukaisuus: koko sovelluksen ulkonäkö on
määritelty yhdessä CSS"-tyylitiedostossa. Koska HTML"-koodissa ei ole
määritelty ulkoasua vaan ainoastaan sisällön rakenne ovat kaikki sivut
keskenään yhdenmukaisia. Kaikki sisällön muokkaus tapahtuu
toiminta"-palkin kautta ja toiminnot tallennetaan aina lomakkeen
lopussa olevasta ``Tallenna''"-painikkeella. Mikään, mikä ei näytä
painikkeelta ei tee järjestelmään pysyviä, kaikkia käyttäjiä koskevia
muutoksia ja toisaalta kaikkien painikkeiden painaminen tekee pysyviä
muutoksia. Esimerkiksi ``Poista''"-linkki ei poista tiedostoa
välittömästi, vaan linkkiä painettaessa siirrytään lomakkeelle, jolla
poisto vahvistetaan painikkeella.

\item[Saavutettavuus:] Oppimapin sisältö on esitetty semanttisella
merkinnällä ja esimerkiksi sivun ulkoasua ei ole tehty taulukolla.
Tämän ansioista käyttö esimerkiksi puheselaimella onnistuu hyvin.
Samoin kirjasinkokoa voi vapaasti muuttaa ja sovellus käyttää
selaimessa asetettua tekstin kokoa. Suurta tekstiä tarvitseva käyttäjä
on jo aikaisemmin säätänyt selaimensa haluamakseen.

\item[Personalisointi:] Oppimappi tarjoaa mahdollisuuden vaihtaa
käyttöliittymän ulkoasua (käyttäjä voi valita ulkonäön vaihtoehtoisista
CSS"-tyylisivuista) ja käyttöliittymän kieltä. Lisäksi järjestelmä kerää
tapahtumahistoriaa käyttäjien toimista.

\item[Tehokkuus:] Oppimapin vasteaika on keskimäärin 0,04 sekuntia
sivua kohden. Keskimääräinen sivu on noin 20 kilotavua, mutta
tiedonsiirrossa käytetään gzip"-pakkausta, jos selain sitä tukee, jonka
ansiosta siirrettävän datan määrä on noin 3 kilotavua sivua kohden.
Tavallisella modeemillakin sivun pitäisi siis saapua aina alle 2
sekunnissa. Sivun ulkonäköön vaikuttava CSS"-tiedosto ja ikonit
tarvitsee siirtää vain ensimmäisellä sivulla, sen jälkeen ne ovat
selaimen välimuistissa. Sovelluksen käytön tehokkuutta on parannettu
tarpeen mukaan nostamalla yleisimmin käytettyjä dokumenttien toimintoja
myös dokumenttien listauksiin, jolloin niiden käyttöön tarvitaan yksi sivunhaku vähemmän.

\item[Sisältö:] Peda.net ei ota kantaa Oppimapilla tuotettavaan
sisältöön. Käyttöliittymän tekstit ylläpidetään keskitetysti Peda.netin
toimesta ja eri kieliversioita tehdään käyttäjien tarpeiden mukaan.
Useimmissa tapauksissa joku Peda.netin käyttäjistä tarjoutuu
kääntämään tarvittavat merkkijonot uuden kielen tukemista varten.

\item[Luotettavuus:] Oppimappi ei ole ollut vielä käytössä riittävän
kauan, että toimintavarmuudesta voitaisiin sanoa mitään tarkkaa.
Kuormitustestissä järjestelmä pystyy nykyisellä palvelimella tarjoamaan
lähes 30 sivua sekunnissa jatkuvasti. Järjestelmä on ollut tätä
kirjoitettaessa tuotantokäytössä kaksi viikkoa ilman huoltotaukoja.

\item[Navigointi:] Oppimappi tarjoaa koko ajan linkit koko hierarkian
päätasoille (kotisivu, omat tiedostot, työtilat ja ylläpito) ja muuten
hierarkiassa edetään yksi taso kerrallaan alaspäin tai palaamalla
suoraan mille tahansa edelliselle tasolle. Kaikki sisällössä olevat
linkit ovat sinisiä ja alleviivattuja, joten ne on helppo havaita.

\end{dl}

%\section{Johtopäätöksiä Oppimapin käytettävyydestä}
\label{oppimapin-kaytettavyys-yhteenveto}

Yhteenvetona vaikuttaisi siltä, että käytettävyyden kannalta ainakin
CSS"-tyylisivuja pitäisi vielä kehittää. Erityisesti ikkunan pinta"-ala
on nyt tehottomassa käytössä, mutta sen korjaamiseksi täytyisi poiketa
usein käytetystä www"-sivustojen taitosta. On vaikea sanoa ilman
tarkempaa tutkimusta, onko käytettävyyden kannalta parempi, että sivu
näyttää samanlaiselta kuin muutkin, vai että sen käytön tehokkuus on
teoriassa maksimaalinen. Samoin käytettävyyttä puheselaimilla ja
braille"-näytöillä pitäisi tutkia vielä tarkemmin.

Toiminnallisesti Oppimapissa on puutteena myös täysi rinnakkaisten
muutosten hallinta. Tietokantaan tehdään lukituksia vain tiedon eheyden
varmistamiseksi tallennuksen yhteydessä, mutta tiedostoa ei lukita koko
muokkauksen ajaksi. Etuna on, että mitä tahansa tiedostoa voi muokata
milloin tahansa, mutta jos samaa dokumenttia muokkaa samaan aikaan
kaksi eri henkilöä, eivät muutokset yhdisty automaattisesti. Ainoastaan
viimeisenä tallennettu versio jää voimaan. Versionhallinnan ansiosta
vanhempikin versio tallentuu järjestelmään, mutta muutoksien
yhdistäminen pitää tehdä jälkikäteen käsityönä. Koska järjestelmä pitää
kirjaa myös vanhoista versioista, tulevaisuudessa on mahdollista tehdä
koneellinen muutosten yhdistäminen, jos eri henkilöiden tekemät
muutokset eivät ole ristiriidassa keskenään. Selainkäyttöliittymän
kehittäminen ristiriitaisten muutosten yhdistämiseen tulee olemaan
haastava tehtävä. \cite{ritcher:three-way-merge}

Yleisempänä ongelmana on rinnakkaisissa muutoksissa tilanne, jossa
henkilö $A$ aloittaa dokumentin muokkaamisen ja tämän jälkeen henkilö
$B$ poistaa saman dokumentin. Jos $A$ nyt yrittää tallentaa tekemänsä
muutokset, niin haluttu tulos ei ole itsestään selvä. Oppimappi ei
toistaiseksi osaa käsitellä tilannetta, jossa dokumentin muutokset
yritetään tallentaa, mutta dokumenttia ei ole enää olemassa. Näin
tapahtuessa käyttäjälle annetaan vain virheilmoitus, jossa toistetaan
käyttäjän syöttämä tieto, jotta hän voi kopioida sen talteen toiseen
paikkaan. Ongelmana on, pitäisikö järjestelmän palauttaa poistettu
dokumentti järjestelmään. Jos tämän pitää olla mahdollista, ei
järjestelmä voikaan koskaan poistaa dokumenttia oikeasti, ainoastaan
piilottaa se näkyvistä. Vaihtoehtoisesti muokattu sisältö voitaisiin
tallentaa uudeksi tiedostoksi. Tässä mallissa ongelmana on, mihin uusi
tiedosto pitäisi luoda? Myös hakemisto, jossa tiedosto oli, on voitu
poistaa.
